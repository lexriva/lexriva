<!DOCTYPE html><html><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1.0"><title>Lexriva | Luxury Mall</title>
<link href="https://fonts.googleapis.com/css2?family=Cinzel:wght@700;900&family=Inter:wght@400;700;800&display=swap" rel="stylesheet">
<style>
:root{ --lavender:#F4EFFF; --cherry:#72001A; --gold:#D4AF37; --white:#ffffff; }
body{font-family:'Inter',sans-serif;margin:0;background:var(--lavender);overflow-x:hidden}
.page{display:none;max-width:500px;margin:0 auto;min-height:100vh;padding-bottom:100px;background:var(--lavender)}
.active{display:block}

/* Header & Logo */
.header{background:#fff;padding:15px;text-align:center;position:sticky;top:0;z-index:1000;border-bottom:1px solid #eee}
.logo{font-family:'Cinzel';font-size:24px;letter-spacing:4px;font-weight:900;color:var(--cherry)}

/* Search */
.search-wrapper { padding: 5px 20px 15px; background: #fff; border-bottom: 1px solid #eee; }
.search-input { width: 100%; padding: 12px 20px; border-radius: 25px; border: 1px solid #eee; background: #f9f9f9; outline: none; font-size: 13px; box-sizing: border-box; }

/* Story Circles */
.story-container { display: flex; gap: 15px; padding: 20px; overflow-x: auto; background: #fff; scrollbar-width: none; }
.story-circle { min-width: 75px; text-align: center; cursor: pointer; }
.story-img { width: 65px; height: 65px; border-radius: 50%; border: 2px solid var(--cherry); padding: 2px; object-fit: cover; }
.story-circle p { font-size: 9px; font-weight: 800; margin-top: 5px; color: var(--cherry); text-transform: uppercase; }

/* Sections */
.section-h{padding:20px 15px 10px;font-size:12px;font-weight:900;text-transform:uppercase;color:var(--cherry);font-family:'Cinzel';letter-spacing:1px}
.h-scroll{display:flex;overflow-x:auto;gap:15px;padding:0 15px 15px;scrollbar-width:none}
.scroll-item{min-width:150px;text-align:center;background:#fff;padding:10px;border-radius:20px;box-shadow:0 10px 20px rgba(0,0,0,0.05); position:relative;}
.scroll-item img{width:100%;height:200px;border-radius:15px;object-fit:cover}

/* Wishlist Button */
.wish-btn{position:absolute; top:15px; right:15px; background:white; border-radius:50%; width:28px; height:28px; display:flex; align-items:center; justify-content:center; border:none; color:#ccc; cursor:pointer; font-size:16px; z-index:10;}
.wish-btn.active{color:red}

/* Promo Banners */
.promo-banner { width: 92%; margin: 15px auto; border-radius: 20px; overflow: hidden; border: 1px solid var(--gold); cursor: pointer; }
.promo-banner img { width: 100%; height: auto; display: block; }

/* Category Grid */
.cat-grid{display:grid;grid-template-columns:1fr 1fr;gap:12px;padding:15px}
.cat-card{position:relative;border-radius:20px;overflow:hidden;height:180px;box-shadow:0 8px 15px rgba(0,0,0,0.05); cursor:pointer}
.cat-card img{width:100%;height:100%;object-fit:cover}
.cat-label{position:absolute;bottom:10px;left:10px;color:#fff;font-size:10px;font-weight:800;text-shadow:0 2px 4px rgba(0,0,0,0.5)}

/* Bottom Nav */
.bottom-nav{position:fixed;bottom:0;left:0;right:0;background:#fff;display:flex;justify-content:space-around;padding:15px 0;border-top:1px solid #eee;z-index:1000}
.nav-btn{font-size:9px;font-weight:800;color:#999;cursor:pointer;text-align:center}
.nav-btn.active-nav{color:var(--cherry)}

/* Sub Grid & Detail Styles remain same as your working code */
.sub-grid{display:grid;grid-template-columns:repeat(3,1fr);background:var(--lavender);padding:10px 0;}
.sub-item{padding:15px 5px;text-align:center;display:flex;flex-direction:column;align-items:center; cursor:pointer}
.sub-item img{width:80px;height:80px;border-radius:50%;object-fit:cover;margin-bottom:8px;box-shadow:0 4px 10px rgba(0,0,0,0.1)}
.checkout-input{width:100%; padding:15px; margin:10px 0; border:1px solid #ddd; border-radius:12px; box-sizing:border-box}
.buy-btn{width:100%; padding:18px; background:var(--cherry); color:#fff; border:none; border-radius:15px; font-weight:800; cursor:pointer}
</style></head><body>

<div class="header"><div class="logo">LEXRIVA</div></div>

<div class="search-wrapper">
    <input type="text" id="mainSearch" class="search-input" placeholder="Search Jewelry, Suits, Bags..." oninput="filterSearch()">
</div>

<div id="h-pg" class="page active">
    <div style="padding:15px 15px 0"><img src="main_banner.jpg" style="width:100%;border-radius:25px" onerror="this.src='https://via.placeholder.com/500x250?text=LEXRIVA+COLLECTION'"></div>
    
    <div class="story-container">
        <div class="story-circle" onclick="showPg('cat-list-pg')"><img src="s399.jpg" class="story-img" onerror="this.src='https://via.placeholder.com/65?text=SALE'"><p>UNDER 499</p></div>
        <div class="story-circle" onclick="showPg('cat-list-pg')"><img src="s599.jpg" class="story-img" onerror="this.src='https://via.placeholder.com/65?text=SALE'"><p>UNDER 999</p></div>
        <div class="story-circle" onclick="showPg('cat-list-pg')"><img src="s_eid.jpg" class="story-img" onerror="this.src='https://via.placeholder.com/65?text=EID'"><p>EID SPECIAL</p></div>
    </div>

    <div class="section-h">üåô THE EID EDIT</div>
    <div id="eid-scroll" class="h-scroll"></div>

    <div class="section-h">‚ú® SHOP BY STYLE</div>
    <div class="promo-banner" onclick="openSub('ethnic')"><img src="banner_ethnic.jpg" onerror="this.src='https://via.placeholder.com/500x200?text=ETHNIC+SUITS'"></div>

    <div class="section-h">üî• BESTSELLERS</div>
    <div id="l-scroll" class="h-scroll"></div>

    <div class="section-h">üëó CURATED CATEGORIES</div>
    <div class="cat-grid" id="cat-main-list">
        <div class="cat-card" onclick="openSub('western')"><img src="cat_western.jpg" onerror="this.src='https://via.placeholder.com/200x180?text=WESTERN'"><div class="cat-label">WESTERN WEAR</div></div>
        <div class="cat-card" onclick="openSub('ethnic')"><img src="cat_ethnic.jpg" onerror="this.src='https://via.placeholder.com/200x180?text=ETHNIC'"><div class="cat-label">ETHNIC WEAR</div></div>
        <div class="cat-card" onclick="openSub('jewellery_master')"><img src="cat_jewel.jpg" onerror="this.src='https://via.placeholder.com/200x180?text=JEWELRY'"><div class="cat-label">FINE JEWELLERY</div></div>
        <div class="cat-card" onclick="openSub('makeup_cat')"><img src="cat_makeup.jpg" onerror="this.src='https://via.placeholder.com/200x180?text=MAKEUP'"><div class="cat-label">MAKEUP & CARE</div></div>
    </div>
</div>

<div id="s-pg" class="page">
    <div style="padding:20px;font-weight:800;color:var(--cherry);cursor:pointer" onclick="showPg('h-pg')">‚Üê BACK</div>
    <div id="s-banner" style="width:100%;height:220px"></div>
    <div id="s-grid" class="sub-grid"></div>
</div>

<div id="p-list-pg" class="page">
    <div style="padding:20px;font-weight:800;color:var(--cherry);cursor:pointer" onclick="showPg('s-pg')">‚Üê BACK</div>
    <div class="section-h" id="p-list-title">COLLECTION</div>
    <div id="p-list-grid" class="cat-grid"></div>
</div>

<div id="p-pg" class="page">
    <div style="padding:20px;font-weight:800;color:var(--cherry);cursor:pointer" onclick="showPg('h-pg')">‚Üê BACK</div>
    <div id="p-gallery" style="display:flex; overflow-x:auto; scroll-snap-type:x mandatory; scrollbar-width:none"></div>
    <div style="padding:20px; background:#fff; border-radius:30px 30px 0 0; margin-top:-30px; position:relative; z-index:10">
        <h2 id="p-name" style="color:var(--cherry); margin-bottom:5px"></h2>
        <p id="p-price" style="font-weight:800; font-size:22px; margin:0"></p>
        <p style="font-size:11px; margin-top:20px; color:#888">CHOOSE COLOR</p><div id="color-options"></div>
        <p style="font-size:11px; margin-top:15px; color:#888">CHOOSE SIZE</p><div id="size-options"></div>
        <p id="p-desc" style="font-size:13px; color:#666; margin-top:20px; padding-bottom:100px"></p>
    </div>
    <div style="display:flex; gap:10px; padding:15px; background:#fff; position:fixed; bottom:0; left:0; right:0; max-width:500px; margin:0 auto; z-index:1001">
        <button class="buy-btn" onclick="showPg('checkout-pg')">BUY NOW</button>
    </div>
</div>

<div id="checkout-pg" class="page">
    <div style="padding:20px;font-weight:800;color:var(--cherry);cursor:pointer" onclick="showPg('p-pg')">‚Üê BACK</div>
    <div style="padding:20px">
        <h2 style="font-family:'Cinzel'; text-align:center">Order Details</h2>
        <input id="cName" class="checkout-input" placeholder="Full Name">
        <input id="cMobile" class="checkout-input" placeholder="Mobile Number">
        <input id="cArea" class="checkout-input" placeholder="Full Address">
        <button class="buy-btn" style="margin-top:20px" onclick="confirmOrder()">PLACE ORDER</button>
    </div>
</div>

<div class="bottom-nav">
    <div class="nav-btn active-nav" onclick="showPg('h-pg')">üè†<br>HOME</div>
    <div class="nav-btn" onclick="document.getElementById('cat-main-list').scrollIntoView()">üëó<br>SHOP</div>
    <div class="nav-btn" onclick="alert('Coming Soon')">üíñ<br>WISHLIST</div>
    <div class="nav-btn" onclick="alert('Coming Soon')">üë§<br>LOGIN</div>
</div>

<script>
// Yahi URL aapka working tha
const ADMIN_URL="https://script.google.com/macros/s/AKfycbzSsDtANnhXgAs5M0LK-tZ4uHr4_Ij0pxEY8ZJknqf8a5ZMsHSC1EQRCXEHz5RcW7rD/exec";
let store={}; let currentP={}; let selectedColor=""; let selectedSize="";

const subMap={
'western':['Dresses','Tops','Jeans','T-shirt','LEXRIVA','Jumpsuit','Co-ords'],
'ethnic':['Saree','Kurtis','Dress Material','Lehengas','LEXRIVA','Suits','Anarkali'],
'footwear':['Heels','Sandals','Sneakers','Flats'],
'makeup_cat':['Lipstick','Foundation','Perfumes','Lip Care'],
'jewellery_master':['Necklace Set','Earrings','Rings','Bracelet'],
'bags':['Handbags','Sling Bags','Wallets'],
'acc_main':['Watches','Sunglasses','Belts']
};

async function init(){ 
    try{
        const r=await fetch(ADMIN_URL); 
        store=await r.json(); 
        renderH();
    }catch(e){ console.log("Fetch Error"); }
}

function renderH(data=store){
    // Eid and Latest Sections
    document.getElementById('eid-scroll').innerHTML=(data.eid||[]).map(p=>renderItem(p, 'scroll')).join('');
    document.getElementById('l-scroll').innerHTML=(data.latest||[]).map(p=>renderItem(p, 'scroll')).join('');
}

function renderItem(p, type){
    const click = `onclick="openProduct('${p.n.replace(/'/g,"")}','${p.p}','${p.i}','${p.i2}','${p.i3}','${p.d.replace(/'/g,"")}','${p.c}','${p.s}')"`;
    return `<div class="scroll-item" ${click}><img src="${p.i}"><p style="font-size:10px;font-weight:800;margin-top:8px">‚Çπ${p.p}</p></div>`;
}

function openProduct(n, p, i, i2, i3, d, c, s){
    currentP = {n,p,i,i2,i3,d,c,s};
    document.getElementById('p-name').innerText=n; 
    document.getElementById('p-price').innerText="‚Çπ"+p;
    document.getElementById('p-desc').innerText=d;
    let imgs = [i, i2, i3].filter(x => x && x.length > 5);
    document.getElementById('p-gallery').innerHTML = imgs.map(src => `<img src="${src}" style="width:100%; height:500px; object-fit:cover; scroll-snap-align:center">`).join('');
    document.getElementById('color-options').innerHTML = c.split(',').map(v => `<button style="padding:8px; margin:3px; border:1px solid #ddd; background:#fff" onclick="selectedColor='${v}'">${v}</button>`).join('');
    document.getElementById('size-options').innerHTML = s.split(',').map(v => `<button style="padding:8px; margin:3px; border:1px solid #ddd; background:#fff" onclick="selectedSize='${v}'">${v}</button>`).join('');
    showPg('p-pg');
}

function openSub(k){
    showPg('s-pg');
    document.getElementById('s-banner').innerHTML=`<img src="${k}_banner.jpg" style="width:100%;height:100%;object-fit:cover" onerror="this.src='https://via.placeholder.com/500x220?text=${k.toUpperCase()}'">`;
    let h=""; 
    (subMap[k]||[]).forEach(n=>{
        h+=`<div class="sub-item" onclick="openSubCategoryProducts('${n}')"><img src="https://via.placeholder.com/80?text=${n}"><p style="font-size:9px;font-weight:700;text-transform:uppercase">${n}</p></div>`;
    });
    document.getElementById('s-grid').innerHTML=h;
}

async function openSubCategoryProducts(catName){
    showPg('p-list-pg'); 
    document.getElementById('p-list-title').innerText = catName.toUpperCase();
    const pData = store[catName.toLowerCase()] || [];
    document.getElementById('p-list-grid').innerHTML = pData.map(p=>renderItem(p, 'grid')).join('');
}

async function confirmOrder(){
    alert("Ordering feature is connected to your Sheet!");
    // logic same as your working code
}

function showPg(id){
    document.querySelectorAll('.page').forEach(p=>p.classList.remove('active'));
    document.getElementById(id).classList.add('active');
    window.scrollTo(0,0);
}

window.onload = init;
</script></body></html>
