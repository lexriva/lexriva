<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Lexriva - Luxury Premium Mall</title>
    <link href="https://fonts.googleapis.com/css2?family=Cinzel:wght@600&family=Inter:wght@400;700&display=swap" rel="stylesheet">
    <style>
        :root { 
            --lavender-bg: #F8F4FF; --cherry-deep: #800020; --lavender-dark: #7B68EE;
            --white: #ffffff; --text: #1a1a1a; --shadow: 0 10px 30px rgba(0,0,0,0.05);
        }
        body { font-family: 'Inter', sans-serif; margin: 0; background: var(--lavender-bg); color: var(--text); overflow-x: hidden; }
        .page { display: none; max-width: 500px; margin: 0 auto; min-height: 100vh; padding-bottom: 100px; background: var(--white); box-shadow: 0 0 50px rgba(0,0,0,0.05); }
        .active { display: block; }

        /* PREMIUM HEADER */
        .header { background: var(--white); padding: 20px 15px; text-align: center; border-bottom: 1px solid rgba(0,0,0,0.05); position: sticky; top: 0; z-index: 1000; }
        .logo { font-family: 'Cinzel'; font-size: 24px; letter-spacing: 6px; font-weight: 800; color: var(--cherry-deep); }
        
        /* LUXURY SEARCH */
        .search-box { padding: 10px 20px; display: flex; align-items: center; gap: 10px; background: #fff; margin: 0 15px; border-radius: 30px; border: 1px solid #eee; box-shadow: var(--shadow); }
        .search-input { flex: 1; border: none; outline: none; font-size: 13px; padding: 5px; }

        /* HOME CATEGORY GRID */
        .section-title { padding: 20px 20px 10px; font-size: 13px; font-weight: 800; text-transform: uppercase; color: var(--cherry-deep); letter-spacing: 1px; }
        .home-grid { display: grid; grid-template-columns: repeat(2, 1fr); gap: 15px; padding: 15px; }
        .cat-card { background: #fff; border-radius: 15px; overflow: hidden; box-shadow: var(--shadow); cursor: pointer; transition: transform 0.3s; position: relative; }
        .cat-card:active { transform: scale(0.95); }
        .cat-card img { width: 100%; height: 180px; object-fit: cover; }
        .cat-info { padding: 12px; text-align: center; background: #fff; border-top: 1px solid #f9f9f9; }
        .cat-name { font-size: 10px; font-weight: 800; text-transform: uppercase; letter-spacing: 1px; color: #333; }

        /* 6-7 REELS SECTION */
        .reels-container { display: flex; overflow-x: auto; gap: 12px; padding: 10px 15px; scrollbar-width: none; }
        .reel-item { min-width: 160px; height: 280px; border-radius: 20px; overflow: hidden; flex-shrink: 0; border: 2px solid var(--lavender-bg); }
        .reel-item video { width: 100%; height: 100%; object-fit: cover; }

        /* 9-GRID CHERRY/LAVENDER THEME */
        .sub-grid { display: grid; grid-template-columns: repeat(3, 1fr); background: #fff; border-top: 1px solid #eee; }
        .sub-item { border: 0.5px solid #f0f0f0; padding: 20px 5px; text-align: center; display: flex; flex-direction: column; align-items: center; justify-content: center; cursor: pointer; }
        .sub-item img { width: 70px; height: 70px; object-fit: cover; border-radius: 12px; margin-bottom: 10px; box-shadow: 0 5px 15px rgba(0,0,0,0.05); }
        .center-box { background: var(--cherry-deep) !important; color: #fff !important; font-size: 9px; font-weight: 800; text-align: center; padding: 10px; border-radius: 0; }

        /* AMAZON STYLE PRODUCT PAGE */
        .p-img-slider { width: 100%; height: 420px; display: flex; overflow-x: auto; snap-type: x mandatory; background: #fff; }
        .p-img-slider img { min-width: 100%; height: 100%; object-fit: contain; snap-align: start; }
        .p-content { padding: 25px; background: #fff; border-radius: 35px 35px 0 0; margin-top: -40px; box-shadow: 0 -15px 30px rgba(0,0,0,0.03); position: relative; }
        .price-tag { font-size: 30px; font-weight: 800; color: #111; margin: 15px 0; }
        .shipping-deal { color: #007600; font-weight: 700; font-size: 14px; background: #e7f5e7; padding: 8px 15px; border-radius: 5px; display: inline-block; }
        
        /* FOOTER NAV */
        .footer-nav { position: fixed; bottom: 0; left: 0; right: 0; background: #fff; display: flex; justify-content: space-around; padding: 18px 0; border-top: 1px solid #eee; z-index: 1000; box-shadow: 0 -5px 20px rgba(0,0,0,0.02); }
        .nav-btn { font-size: 10px; font-weight: 700; color: #999; text-transform: uppercase; cursor: pointer; letter-spacing: 1px; }
        .nav-active { color: var(--cherry-deep); }
    </style>
</head>
<body>

    <div class="header">
        <div class="logo">LEXRIVA</div>
    </div>

    <div class="search-box">
        <input type="text" class="search-input" placeholder="Search premium fashion...">
        <span onclick="alert('Image search coming soon!')">üì∏</span>
    </div>

    <div id="home-page" class="page active">
        <img src="main_banner.jpg" style="width: 100%; display: block;">
        
        <div class="section-title">Bestsellers</div>
        <div id="bestseller-scroll" class="scroll" style="padding: 10px 0 20px 15px;"></div>

        <div class="section-title">Women's Clothing</div>
        <div class="home-grid">
            <div class="cat-card" onclick="openSub('western')">
                <img src="cat_western.jpg">
                <div class="cat-info"><div class="cat-name">Western Wear</div></div>
            </div>
            <div class="cat-card" onclick="openSub('ethnic')">
                <img src="cat_ethnic.jpg">
                <div class="cat-info"><div class="cat-name">Ethnic Wear</div></div>
            </div>
        </div>

        <div class="section-title">Product Stories (6-7 Reels)</div>
        <div class="reels-container" id="reels-list">
            <div class="reel-item"><video src="reel1.mp4" autoplay muted loop playsinline></video></div>
            <div class="reel-item"><video src="reel2.mp4" autoplay muted loop playsinline></video></div>
            <div class="reel-item"><video src="reel3.mp4" autoplay muted loop playsinline></video></div>
            <div class="reel-item"><video src="reel4.mp4" autoplay muted loop playsinline></video></div>
            <div class="reel-item"><video src="reel5.mp4" autoplay muted loop playsinline></video></div>
            <div class="reel-item"><video src="reel6.mp4" autoplay muted loop playsinline></video></div>
        </div>

        <div class="section-title">Beauty & Jewellery</div>
        <div class="home-grid">
            <div class="cat-card" onclick="openSub('makeup_master')">
                <img src="cat_makeup.jpg">
                <div class="cat-info"><div class="cat-name">Makeup & Beauty</div></div>
            </div>
            <div class="cat-card" onclick="openSub('jewellery_master')">
                <img src="cat_jewel.jpg">
                <div class="cat-info"><div class="cat-name">Jewellery</div></div>
            </div>
        </div>

        <div class="section-title">Luxury Footwear</div>
        <div class="home-grid">
            <div class="cat-card" onclick="openSub('footwear')" style="grid-column: span 2;">
                <img src="cat_footwear.jpg" style="height: 220px;">
                <div class="cat-info"><div class="cat-name">Premium Footwear Collection</div></div>
            </div>
        </div>
    </div>

    <div id="sub-grid-page" class="page">
        <div style="padding: 20px; font-weight: 800; color: var(--cherry-deep);" onclick="showPage('home-page')">‚Üê COLLECTIONS</div>
        <div id="category-banner" style="width: 100%; height: 280px; overflow: hidden; margin-bottom: 5px;"></div>
        <div id="sub-grid-container" class="sub-grid"></div>
    </div>

    <div id="product-page" class="page">
        <div style="padding: 20px; font-weight: 800;" onclick="showPage('home-page')">‚Üê BACK</div>
        <div class="p-img-slider" id="p-gallery"></div>
        <div class="p-content">
            <div style="color: var(--cherry-deep); font-size: 11px; font-weight: 800; margin-bottom: 5px;">LEXRIVA LUXURY</div>
            <h1 id="p-name" style="font-size: 22px; margin: 0; color: #111;"></h1>
            <div class="price-tag" id="p-price"></div>
            <div id="p-shipping" class="shipping-deal"></div>
            
            <p style="font-size: 13px; color: #666; line-height: 1.8; margin-top: 20px;">
                Premium quality Lexriva authentic design. Handcrafted with precision. 
                <br><b>‚ú® 2-Day Express Delivery Available.</b>
                <br><b>üîÑ Easy 7-Day Exchange & Returns.</b>
            </p>

            <div style="display: flex; gap: 10px; margin-top: 30px;">
                <button style="flex: 1; padding: 18px; border: none; border-radius: 10px; background: #eee; font-weight: 800; font-size: 12px;" onclick="alert('Added to Wishlist')">WISHLIST</button>
                <button style="flex: 2; padding: 18px; border: none; border-radius: 10px; background: var(--cherry-deep); color: #fff; font-weight: 800; font-size: 12px;" onclick="showPage('checkout-page')">ADD TO CART / BUY NOW</button>
            </div>
        </div>
    </div>

    <div id="checkout-page" class="page">
        <div style="padding: 30px;">
            <h2 style="color: var(--cherry-deep);">Secure Checkout</h2>
            <input type="text" id="order-n" style="width: 100%; padding: 15px; margin: 10px 0; border: 1px solid #eee; border-radius: 10px;" placeholder="Full Name">
            <input type="tel" id="order-p" style="width: 100%; padding: 15px; margin: 10px 0; border: 1px solid #eee; border-radius: 10px;" placeholder="Phone Number">
            <textarea id="order-a" style="width: 100%; height: 100px; padding: 15px; margin: 10px 0; border: 1px solid #eee; border-radius: 10px;" placeholder="Complete Address"></textarea>
            <button style="width: 100%; padding: 20px; border: none; border-radius: 10px; background: var(--cherry-deep); color: #fff; font-weight: 800; margin-top: 20px;" onclick="confirmOrder()">PLACE COD ORDER</button>
        </div>
    </div>

    <div class="footer-nav">
        <div class="nav-btn nav-active" onclick="showPage('home-page')">Home</div>
        <div class="nav-btn" onclick="alert('Wishlist is empty')">Wishlist</div>
        <div class="nav-btn" onclick="alert('Login/Signup feature enabled')">Account</div>
    </div>

    <script>
        const ADMIN_URL = "https://script.google.com/macros/s/AKfycbyhsAzaZiTaCz6jZ_BskFoEmQLvON7Idw2U0l_bJqLq6-ss2U-WXkPBRKwfNoAZrrx5NA/exec";
        let storeData = { categories: {}, latest: [] }, currentProduct = {};

        // ALL CATEGORIES MAPPING
        const subCategories = {
            'western': ['Dresses','Tops','Jeans','T-shirt','LEXRIVA','Jumpsuit','Co-ords','Sleep Wear','Trousers'],
            'ethnic': ['Saree','Kurtis','Material','Lehengas','LEXRIVA','Gowns','Anarkali','Suits','Plazzo'],
            'footwear': ['Heels','Sandals','Boots','Bellies','LEXRIVA','Sneakers','Flats','Ethnic','Loafers'],
            'makeup_master': ['Lipstick','Foundations','Eye Makeup','Personal Care','LEXRIVA','Perfumes','Nails','Brushes','Face Makeup'],
            'jewellery_master': ['Minimal','Necklace Set','Earrings','Maangtika','LEXRIVA','Rings','Bracelet','Bangles','Bridal']
        };

        async function init() {
            try { 
                const res = await fetch(ADMIN_URL); 
                storeData = await res.json(); 
                renderBestsellers(); 
            } catch(e) { console.error("Sheet Connection Error"); }
        }

        function renderBestsellers() {
            const list = document.getElementById('bestseller-scroll');
            list.innerHTML = storeData.latest.map(p => `
                <div class="scroll-item" onclick='openProduct(${JSON.stringify(p)})'>
                    <img src="${p.i || 'icon.png'}">
                    <p style="font-size:10px; font-weight:800; margin:10px 0 0;">${p.n}</p>
                    <span style="color:var(--cherry-deep); font-weight:800; font-size:11px;">‚Çπ${p.p}</span>
                </div>
            `).join('');
        }

        function openSub(catKey) {
            showPage('sub-grid-page');
            const data = storeData.categories[catKey] || { b: '' };
            document.getElementById('category-banner').innerHTML = `<img src="${data.b || catKey+'_banner.jpg'}" style="width:100%; height:100%; object-fit:cover" onerror="this.src='main_banner.jpg'">`;
            
            let html = "";
            const subs = subCategories[catKey] || [];
            subs.forEach((name, i) => {
                if(i === 4) html += `<div class="sub-item center-box">LEXRIVA<br>${catKey.toUpperCase()}</div>`;
                else html += `<div class="sub-item" onclick="alert('${name} coming soon')">
                    <img src="${name.toLowerCase().replace(' ','_')}.jpg" onerror="this.src='icon.png'">
                    <div style="font-size:9px; font-weight:800;">${name}</div>
                </div>`;
            });
            document.getElementById('sub-grid-container').innerHTML = html;
        }

        function openProduct(p) {
            currentProduct = p;
            showPage('product-page');
            document.getElementById('p-gallery').innerHTML = `<img src="${p.i}"><img src="${p.i}">`;
            document.getElementById('p-name').innerText = p.n;
            document.getElementById('p-price').innerText = "‚Çπ" + p.p;
            const shipPrice = parseInt(p.p);
            document.getElementById('p-shipping').innerText = shipPrice >= 1999 ? "‚úì FREE EXPRESS DELIVERY" : "+ ‚Çπ49 Shipping Charges";
            document.getElementById('p-shipping').style.background = shipPrice >= 1999 ? "#e7f5e7" : "#f5f5f5";
        }

        async function confirmOrder() {
            const n=document.getElementById('order-n').value, p=document.getElementById('order-p').value, a=document.getElementById('order-a').value;
            if(!n || !p || !a) return alert("Fill all details!");
            await fetch(ADMIN_URL, {method:'POST', mode:'no-cors', body:JSON.stringify({contact: n+' ('+p+')', details: `Prod: ${currentProduct.n}, Addr: ${a}`, price: currentProduct.p})});
            alert("Order Success! Express shipping started.");
            showPage('home-page');
        }

        function showPage(id) {
            document.querySelectorAll('.page').forEach(p => p.classList.remove('active'));
            document.getElementById(id).classList.add('active');
            window.scrollTo(0,0);
        }
        window.onload = init;
    </script>
</body>
</html>
