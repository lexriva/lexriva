<!DOCTYPE html><html><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1.0"><title>Lexriva | Luxury Mall</title>
<link href="https://fonts.googleapis.com/css2?family=Cinzel:wght@700&family=Inter:wght@400;700&display=swap" rel="stylesheet">
<style>
:root{ --lavender:#F4EFFF; --cherry:#72001A; --gold:#D4AF37; --white:#ffffff; --gray:#f4f4f4; }
body{font-family:'Inter',sans-serif;margin:0;background:var(--lavender);overflow-x:hidden}
.page{display:none;max-width:500px;margin:0 auto;min-height:100vh;padding-bottom:100px;background:var(--lavender)}
.active{display:block}
.header{background:#fff;padding:20px;text-align:center;position:sticky;top:0;z-index:1000}
.logo{font-family:'Cinzel';font-size:26px;letter-spacing:6px;font-weight:900;color:var(--cherry)}
.h-scroll{display:flex;overflow-x:auto;gap:15px;padding:0 15px;scrollbar-width:none}
.scroll-item{min-width:140px;text-align:center;background:#fff;padding:10px;border-radius:20px;box-shadow:0 10px 20px rgba(0,0,0,0.05)}
.scroll-item img{width:120px;height:160px;border-radius:15px;object-fit:cover}

/* PRODUCT PAGE STYLES */
#p-gallery img{min-width:100%; height:550px; object-fit:cover; border-bottom: 2px solid var(--cherry)}
.info-badge{display:flex; align-items:center; gap:8px; font-size:11px; font-weight:700; color:#444; margin-top:10px; background:#f9f9f9; padding:10px; border-radius:10px}
.option-box{display:inline-block; padding:8px 15px; border:1px solid #ddd; margin:5px; border-radius:8px; cursor:pointer; font-size:12px; background:#fff}
.option-box.selected{background:var(--cherry); color:#fff; border-color:var(--cherry)}
.btn-group{display:flex; gap:10px; padding:15px; background:#fff; position:fixed; bottom:0; left:0; right:0; max-width:500px; margin:0 auto; z-index:1001}
.cart-btn{flex:1; padding:18px; border:2px solid var(--cherry); color:var(--cherry); background:transparent; border-radius:15px; font-weight:800; cursor:pointer}
.buy-btn{flex:1; padding:18px; background:var(--cherry); color:#fff; border:none; border-radius:15px; font-weight:800; cursor:pointer}
.checkout-input{width:100%; padding:15px; margin:10px 0; border:1px solid #ddd; border-radius:12px; box-sizing:border-box}
</style></head><body>

<div class="header"><div class="logo">LEXRIVA</div></div>

<div id="h-pg" class="page active">
    <div style="padding:0 15px"><img src="main_banner.jpg" style="width:100%;border-radius:25px" onerror="this.src='https://via.placeholder.com/500x300?text=Eid+Special+Collection'"></div>
    <div style="padding:15px; font-size:11px; font-weight:800; color:var(--cherry)">üåô THE EID EDIT</div>
    <div id="eid-scroll" class="h-scroll"></div>
</div>

<div id="p-pg" class="page">
    <div style="padding:20px;font-weight:800;color:var(--cherry)" onclick="showPg('h-pg')">‚Üê BACK</div>
    <div id="p-gallery" style="display:flex; overflow-x:auto; scroll-snap-type:x mandatory; scrollbar-width:none"></div>
    
    <div style="padding:20px; background:#fff; border-radius:30px 30px 0 0; margin-top:-30px; position:relative; z-index:10">
        <h2 id="p-name" style="color:var(--cherry); margin-bottom:5px"></h2>
        <p id="p-price" style="font-weight:800; font-size:22px; margin:0"></p>
        <p id="delivery-charge" style="font-size:12px; color:var(--cherry); font-weight:700; margin-top:5px"></p>
        
        <div class="info-badge">üöö Delivery in 6-7 Days</div>
        <div class="info-badge">üîÑ Exchange available after 2 days of delivery</div>

        <p style="font-size:11px; font-weight:700; margin-top:20px; color:#888">SELECT COLOR</p>
        <div id="color-options"></div>
        <p style="font-size:11px; font-weight:700; margin-top:15px; color:#888">SELECT SIZE</p>
        <div id="size-options"></div>
        
        <p id="p-desc" style="font-size:13px; color:#666; line-height:1.6; margin-top:20px; padding-bottom:100px"></p>
    </div>
    <div class="btn-group">
        <button class="cart-btn" onclick="alert('Added to cart!')">ADD TO CART</button>
        <button class="buy-btn" onclick="showPg('checkout-pg')">BUY NOW</button>
    </div>
</div>

<div id="checkout-pg" class="page">
    <div style="padding:20px;font-weight:800;color:var(--cherry)" onclick="showPg('p-pg')">‚Üê BACK</div>
    <div style="padding:20px">
        <h2 style="font-family:'Cinzel'; text-align:center">Checkout</h2>
        <input id="cName" class="checkout-input" placeholder="Full Name">
        <input id="cEmail" class="checkout-input" placeholder="Email Address">
        <input id="cMobile" class="checkout-input" placeholder="Mobile Number">
        <input id="cFlat" class="checkout-input" placeholder="Flat / House No.">
        <input id="cArea" class="checkout-input" placeholder="Area / Landmark">
        <input id="cCity" class="checkout-input" placeholder="City">
        <input id="cPincode" class="checkout-input" placeholder="Pincode">
        <button class="buy-btn" style="width:100%; margin-top:20px" onclick="confirmOrder()">PLACE ORDER</button>
    </div>
</div>

<script>
const ADMIN_URL="https://script.google.com/macros/s/AKfycbzSsDtANnhXgAs5M0LK-tZ4uHr4_Ij0pxEY8ZJknqf8a5ZMsHSC1EQRCXEHz5RcW7rD/exec";
let store={}; let currentP={}; let selectedColor=""; let selectedSize="";

async function init(){ try{const r=await fetch(ADMIN_URL); store=await r.json(); renderH();}catch(e){}}

function renderH(data=store){
    document.getElementById('eid-scroll').innerHTML=(data.eid||[]).map(p=>`
        <div class="scroll-item" onclick="openProduct('${p.n.replace(/'/g,"")}','${p.p}','${p.i}','${p.i2}','${p.i3}','${p.d.replace(/'/g,"")}','${p.c}','${p.s}')">
            <img src="${p.i}"><p style="font-size:10px;font-weight:700">‚Çπ${p.p}</p>
        </div>`).join('');
}

function openProduct(n, p, i, i2, i3, d, c, s){
    currentP = {n,p,i,i2,i3,d,c,s};
    document.getElementById('p-name').innerText=n;
    document.getElementById('p-price').innerText="‚Çπ"+p;
    document.getElementById('p-desc').innerText=d;
    
    // Delivery Charge Logic
    let priceNum = parseInt(p);
    document.getElementById('delivery-charge').innerText = priceNum < 1999 ? "+ ‚Çπ29 Delivery Charges" : "FREE Delivery (Order above ‚Çπ1999)";
    
    let imgs = [i, i2, i3].filter(x => x && x.length > 5);
    document.getElementById('p-gallery').innerHTML = imgs.map(src => `<img src="${src}" style="scroll-snap-align:center">`).join('');
    document.getElementById('color-options').innerHTML = c.split(',').map(v => `<div class="option-box" onclick="selectOpt(this, 'color', '${v.trim()}')">${v.trim()}</div>`).join('');
    document.getElementById('size-options').innerHTML = s.split(',').map(v => `<div class="option-box" onclick="selectOpt(this, 'size', '${v.trim()}')">${v.trim()}</div>`).join('');
    showPg('p-pg');
}

function selectOpt(el, type, val){
    el.parentElement.querySelectorAll('.option-box').forEach(x => x.classList.remove('selected'));
    el.classList.add('selected');
    if(type==='color') selectedColor = val; else selectedSize = val;
}

async function confirmOrder(){
    let data = { name: document.getElementById('cName').value, email: document.getElementById('cEmail').value, mobile: document.getElementById('cMobile').value, flat: document.getElementById('cFlat').value, area: document.getElementById('cArea').value, city: document.getElementById('cCity').value, pincode: document.getElementById('cPincode').value, productName: currentP.n, productPrice: currentP.p, selectedColor: selectedColor, selectedSize: selectedSize };
    if(!data.name || !data.mobile || !selectedColor || !selectedSize) return alert("Please fill details and select Color/Size!");
    try{ await fetch(ADMIN_URL, {method:'POST', body:JSON.stringify(data)}); alert("Order Placed!"); showPg('h-pg'); } catch(e){ alert("Error!"); }
}

function showPg(id){document.querySelectorAll('.page').forEach(p=>p.classList.remove('active'));document.getElementById(id).classList.add('active');window.scrollTo(0,0)}
window.onload = init;
</script></body></html>
